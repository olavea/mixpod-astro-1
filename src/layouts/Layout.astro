---
interface Props {
  title: string;
}

const { title } = Astro.props;
const pathname = new URL(Astro.request.url).pathname;

const nav = [
  { path: "/", label: "üëà MixPod" },
  { path: "/about", label: "‚ÑπÔ∏è About" },
];
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="MixPod description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <script
      src="https://cdn.usefathom.com/script.js"
      id="analytics"
      data-site={import.meta.env.PUBLIC_FATHOM_EMBED}
      data-included-domains="mixpod.app"
      data-spa="auto"
      defer></script>
    <title>{title}</title>
  </head>
  <body>
    <nav>
      {
        nav.map((item) => {
          if (item.path === pathname) return null;
          return <a href={item.path}>{item.label}</a>;
        })
      }
    </nav>
  </body>
  <slot />
</html>

<style is:global>
  :root {
    /* Typography */
    --step--2: clamp(0.7035rem, 0.7257rem + -0.0287vi, 0.72rem);
    --step--1: clamp(0.9rem, 0.8869rem + 0.0656vi, 0.9377rem);
    --step-0: clamp(1.125rem, 1.0815rem + 0.2174vi, 1.25rem);
    --step-1: clamp(1.4063rem, 1.3158rem + 0.4522vi, 1.6663rem);
    --step-2: clamp(1.7578rem, 1.5967rem + 0.8057vi, 2.2211rem);
    --step-3: clamp(2.1973rem, 1.9317rem + 1.3278vi, 2.9607rem);
    --step-4: clamp(2.7466rem, 2.3292rem + 2.0871vi, 3.9467rem);
    --step-5: clamp(3.4332rem, 2.7975rem + 3.1786vi, 5.2609rem);

    /* Spacing */
    --space-3xs: clamp(0.3125rem, 0.2038rem + 0.5435vi, 0.625rem);
    --space-2xs: clamp(0.5625rem, 0.4321rem + 0.6522vi, 0.9375rem);
    --space-xs: clamp(0.875rem, 0.7446rem + 0.6522vi, 1.25rem);
    --space-s: clamp(1.125rem, 0.8641rem + 1.3043vi, 1.875rem);
    --space-m: clamp(1.6875rem, 1.4049rem + 1.413vi, 2.5rem);
    --space-l: clamp(2.25rem, 1.7283rem + 2.6087vi, 3.75rem);
    --space-xl: clamp(3.375rem, 2.8098rem + 2.8261vi, 5rem);
    --space-2xl: clamp(4.5rem, 3.4565rem + 5.2174vi, 7.5rem);

    /* Measure */
    --measure: 60ch;
  }

  * {
    max-inline-size: var(--measure);
    box-sizing: border-box;
  }

  html,
  body,
  div,
  nav,
  main,
  footer {
    max-inline-size: none;
  }

  main > header,
  main > section {
    max-width: 55rem;
    margin: var(--space-l) auto;
  }

  html {
    background-color: floralwhite;
    background-image: url("/assets/background-top.png"),
      url("/assets/background-bottom.png"),
      url("/assets/background-mid-orange.png");
    background-position:
      top center,
      bottom center,
      center center;
    background-repeat: no-repeat, no-repeat, repeat-y;
    background-size: 100vw auto;
    min-height: 100vh;

    padding: var(--space-xl) var(--space-xs);

    font-family: "Courier New", Courier, monospace;
    font-weight: bold;
  }

  a {
    color: purple;
    text-decoration: underline;
    text-decoration-color: hotpink;
    text-decoration-style: wavy;
    text-decoration-skip-ink: none;
    text-underline-offset: 0.1em;

    display: inline-block;
    transition: color 0.3s ease-in-out;
  }

  a:hover {
    color: hotpink;
  }

  .nowrap {
    white-space: nowrap;
  }

  h1 {
    font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
    font-size: var(--step-5);
    font-weight: bolder;
    color: hotpink;
    -webkit-text-stroke: 0.02em floralwhite;
  }

  h2 {
    font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
    font-size: var(--step-3);
    font-weight: bolder;
    color: seagreen;
    -webkit-text-stroke: 0.02em floralwhite;
  }

  header {
    font-size: var(--step-1);
  }

  section {
    font-size: var(--step-0);
  }

  header p {
    display: inline;
    line-height: 1.3;
    background-color: floralwhite;
  }

  header p:first-of-type {
    font-size: var(--step-2);
  }

  header a,
  nav a {
    text-decoration: none;
    font-weight: bold;
    background-color: floralwhite;
    color: hotpink;
    padding: 0.5em 1em;
    border: solid 0.15em purple;
    display: inline-block;
    margin: var(--space-s) 0;
    transition: all 0.3s ease-in-out;
  }

  header a:hover,
  nav a:hover {
    background-color: hotpink;
    color: floralwhite;
  }

  nav {
    position: fixed;
    bottom: var(--space-s);
    left: var(--space-s);
    display: flex;
    gap: var(--space-3xs);
  }
</style>
